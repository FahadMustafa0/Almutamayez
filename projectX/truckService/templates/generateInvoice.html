{% extends 'base.html'%}
{% load crispy_forms_tags %}
{% block title%}
Invoice Page
{% endblock title%}
{% block content%}

<div class="content-wrapper">
<!-- Content Header (Page header) -->
<div class="content-header" style="padding : 20px">
<div class="container-fluid">
  <div class="row mb-2">
    <div class="col-sm-6">
      <h1 class="m-0">Generate Invoice</h1>
    </div><!-- /.col -->
    <div class="col-sm-6">
      <ol class="breadcrumb float-sm-right">
        <li class="breadcrumb-item"><a href="#">Home</a></li>
        <li class="breadcrumb-item active">Invoice</li>
      </ol>
    </div><!-- /.col -->
  </div><!-- /.row -->
</div><!-- /.container-fluid -->
</div>
<!-- /.content-header -->

<!-- Main content -->
<section class="content">
    <div class="container-fluid">
      <!-- Main row -->
          <div class="row">
                  <!-- Left col -->
            <section class="col-lg-7 connectedSortable">


            {% comment %} {% if confirm %}
            <div class="ui green message">Customer Created Successfully!</div>
            {% endif %} {% endcomment %}
            <div id="msgdiv"> </div>

            <form action={% url 'invoice' %}  id="customerForm" method="POST" class="ui form"  >
              {% csrf_token %}
                <div class="row">
                      <div class="col-sm-6">
                      <!-- text input -->
                            <div class="form-group">
                                <label>From Date</label>
                                <input type="date" id="fromDate" name="fromDate" class="form-control" placeholder="Enter ...">
                            </div>
                      </div>
                      <div class="col-sm-6">
                            <div class="form-group">
                                <label>To Date</label>
                                <input type="date" id="toDate" name="toDate" class="form-control" placeholder="Enter ..." >
                            </div>
                      </div>
                  </div>
                <div class="row">
                    <div class="col-sm-6">
                          <!-- text input -->
                        <div class="form-group">
                              <h3><label>Select the Customer</label></h3>
                            {% comment %} <form action="" id="customerForm" method="POST" class="ui form" enctype='multipart/form-data' > {% endcomment %}


                                {{ form.as_p }}





                            {% comment %} </form> {% endcomment %}
                        </div>
                      </div>

                </div>


        </div>
        <button type='submit' class="ui teal button">
          Generate Invoice
          {% comment %} <i class="checkmark icon"></i> {% endcomment %}
          </button>
      </form>





    </section>

    <!-- Section for body-->
    <section class="col-lg-5 connectedSortable">

    </section>

  </div>
  <!-- /.row (main row) -->
</div><!-- /.container-fluid -->
</section>
<!-- /.content -->
</div>



<script>
/* $( document ).ready(function() {
$("#id_customer").val(null)
});*/

$("#customerForm").submit(function(e) {
    //e.preventDefault();
   // $("#msgdiv").html('<div class="ui green message">Updated Successfully!</div>')
    $(document).Toasts('create', {
              class: 'bg-info',
              title: 'Toast Title',
              subtitle: 'Subtitle',
              body: 'Report Generated Successfully!',
              autohide: true
              });
        /*$("#fromDate").val('')
        $("#toDate").val('')
        // $("#id_location").val('')
        $("#id_customer").val('') */
    /*var formData = new FormData(this);

    let fromDate= $("#fromDate").val()
    let toDate= $("#toDate").val()

    formData.append( 'fromDate',fromDate);

    formData.append( 'toDate',toDate );

$.ajax({
    type : "POST" ,
    url :  '/createinvoice/',
    contentType: false,
    processData: false,
    data : formData,

    success: function(response){
        if(response){
          console.log("hiiiii")
       // $("#msgdiv").html('<div class="ui green message">Updated Successfully!</div>')
         $(document).Toasts('create', {
              class: 'bg-info',
              title: 'Toast Title',
              subtitle: 'Subtitle',
              body: 'Updated Successfully!',
              autohide: true
              });
        $("#fromDate").val('')
        $("#toDate").val('')
        // $("#id_location").val('')
        $("#id_customer").val('')



      }
    }
});*/
});


</script>
{% endblock content%}